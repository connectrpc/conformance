name: Connect to HTTP Code testsets
mode: TEST_MODE_CLIENT
relevantProtocols:
  - PROTOCOL_GRPC
testCases:
- request:
    testName: unary invalid test mapping
    service: connectrpc.conformance.v1.ConformanceService
    method: Unary
    streamType: STREAM_TYPE_UNARY
    requestMessages:
    - "@type": type.googleapis.com/connectrpc.conformance.v1.UnaryRequest
      responseDefinition:
        error:
          code: 3
  expectedResponse:
    wireDetails:
      actualStatusCode: 200
    error:
      code: 3
      details: 
        - "@type": type.googleapis.com/connectrpc.conformance.v1.ConformancePayload.RequestInfo
          requests:
            - "@type": type.googleapis.com/connectrpc.conformance.v1.UnaryRequest
              responseDefinition:
                error:
                  code: 3
